<!-- contact-form.component.html -->
<section class="py-5">
  <div class="container py-5">
    <div class="row">
      <div class="col-md-6">
        <h2>Get in Touch</h2>
        <p>
          If you have any questions or feedback about our project, we would love
          to hear from you. Please don't hesitate to contact us using the form
          below.
        </p>
        <i class="fa-solid fa-envelope ml-6" style="font-size: 200px;"></i>
      </div>
      <div class="col-md-6">
        <form [formGroup]="contactForm" (ngSubmit)="submitForm()" *ngIf="contactForm">
          <div class="form-group">
            <label for="name">Name</label>
            <input type="text" class="form-control" id="name" placeholder="Enter your name" formControlName="name" />
            <div *ngIf="contactForm.get('name')?.hasError('required') && contactForm.get('name')?.touched"
              class="error-message">Name is required.</div>
          </div>
          <div class="form-group">
            <label for="email">Email address</label>
            <input type="email" class="form-control" id="email" placeholder="Enter your email"
              formControlName="email" />
            <div *ngIf="contactForm.get('email')?.hasError('required') && contactForm.get('email')?.touched"
              class="error-message">Email is required.</div>
            <div *ngIf="contactForm.get('email')?.hasError('email') && contactForm.get('email')?.touched"
              class="error-message">Invalid email address.</div>
          </div>
          <div class="form-group">
            <label for="message">Message</label>
            <textarea class="form-control" id="message" rows="5" formControlName="message"></textarea>
            <div *ngIf="contactForm.get('message')?.hasError('required') && contactForm.get('message')?.touched"
              class="error-message">Message is required.</div>
          </div>
          <button type="submit" class="btn btn-primary" [disabled]="contactForm.invalid">Submit</button>

          <div *ngIf="isLoading" class="spinner"></div>

          <!-- Add a success or error banner -->
          <div *ngIf="formResponse === 'success'" class="success-banner">Email sent!</div>
          <div *ngIf="formResponse === 'error'" class="error-banner">Error, please try again later.</div>

        </form>
      </div>
    </div>
  </div>
</section>