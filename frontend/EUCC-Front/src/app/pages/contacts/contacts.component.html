<!-- contact-form.component.html -->
<section class="py-5">
  <div class="container py-5">
    <div class="row">
      <div class="col-md-6">
        <h2>Get in Touch</h2>
        <p>
          If you have any questions or feedback about our project, we would love
          to hear from you. Please don't hesitate to contact us using the form
          below.
        </p>
        <i class="fa-solid fa-envelope ml-6" style="font-size: 200px;"></i>
      </div>
      <div class="col-md-6">
        <form [formGroup]="contactForm" (ngSubmit)="onSubmit()" *ngIf="contactForm && !isLoading">
          <div class="form-group">
            <label for="name">Name</label>
            <input type="text" class="form-control" name="name" placeholder="Enter your name" formControlName="name" />
            <div *ngIf="contactForm.get('name')?.hasError('required') && contactForm.get('name')?.touched"
              class="error-message">Name is required.</div>
          </div>
          <div class="form-group">
            <label for="email">Email address</label>
            <input type="email" class="form-control" name="email" placeholder="Enter your email"
              formControlName="email" />
            <div *ngIf="contactForm.get('email')?.hasError('required') && contactForm.get('email')?.touched"
              class="error-message">Email is required.</div>
            <div *ngIf="contactForm.get('email')?.hasError('email') && contactForm.get('email')?.touched"
              class="error-message">Invalid email address.</div>
          </div>
          <div class="form-group">
            <label for="country">Country</label>
            <select class="form-control" name="country" formControlName="country" placeholder="Select your country">
              <option value="" disabled selected>Select your country</option>
              <option *ngFor="let country of countries" [value]="country">{{ country }}</option>
            </select>
          </div>
          <div class="form-group">
            <label for="message">Message</label>
            <textarea class="form-control" name="message" rows="5" formControlName="message"></textarea>
            <div *ngIf="contactForm.get('message')?.hasError('required') && contactForm.get('message')?.touched"
              class="error-message">Message is required.</div>
          </div>
          <button type="submit" class="btn btn-primary" [disabled]="contactForm.invalid">Submit</button>
        </form>
        <div *ngIf="isLoading" class="ml-6 mt-5 pt-5">
          <mat-spinner></mat-spinner>
        </div>

        <!-- Add a success or error banner -->
        <div *ngIf="formResponse === 'success'">
          <div class="alert alert-primary mt-2" role="alert">
            <i-feather name="check-circle" width="35" height="35"></i-feather>
            Email sent!
          </div>
        </div>
        <div *ngIf="formResponse === 'error'">
          <div class="alert alert-danger mt-2" role="alert">
            <i-feather name="x-circle" width="35" height="35"></i-feather>

            Error, please try again later.
          </div>
        </div>
      </div>
    </div>
  </div>
</section>